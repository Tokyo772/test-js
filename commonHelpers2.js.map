{"version":3,"file":"commonHelpers2.js","sources":["../src/templates/templatesPLP.js","../src/js/main.js"],"sourcesContent":["function createMarkup(arr) {\n  return arr\n    .map(\n      ({\n        price,\n        name,\n        img,\n        description,\n        id,\n      }) => `<li data-id=\"${id}\" class=\"product-card js-product\">\n        <img src=\"${img}\" alt=\"${name}\" />\n        <h2>${name}</h2>\n        <p>${description}</p>\n        <p>${price} грн</p>\n        <button class=\"js-add\">Add to</button>\n      </li>`\n    )\n    .join('');\n}\n\nexport { createMarkup };\n","import instruments from '../products.json';\nimport common from '../common.json';\nimport { createMarkup } from '../templates/templatesPLP';\n\nconst products = JSON.parse(localStorage.getItem(common.LS_PRODUCTS)) ?? [];\n\nconst selectors = {\n  list: document.querySelector('.js-list'),\n};\n\nselectors.list.insertAdjacentHTML('beforeend', createMarkup(instruments));\nselectors.list.addEventListener('click', handlerAdd);\n\nfunction handlerAdd(evt) {\n  if (!evt.target.classList.contains('js-add')) {\n    return;\n  }\n\n  const product = evt.target.closest('.js-product');\n  const productId = Number(product.dataset.id);\n  const currentProduct = instruments.find(({ id }) => id === productId);\n  const idx = products.findIndex(({ id }) => id === productId);\n\n  if (idx !== -1) {\n    products[idx].qty += 1;\n  } else {\n    currentProduct.qty = 1;\n    products.push(currentProduct);\n  }\n\n  localStorage.setItem(common.LS_PRODUCTS, JSON.stringify(products));\n}\n"],"names":["createMarkup","arr","price","name","img","description","id","products","common","selectors","instruments","handlerAdd","evt","product","productId","currentProduct","idx"],"mappings":"80uCAAA,SAASA,EAAaC,EAAK,CACzB,OAAOA,EACJ,IACC,CAAC,CACC,MAAAC,EACA,KAAAC,EACA,IAAAC,EACA,YAAAC,EACA,GAAAC,CACR,IAAY,gBAAgBA,CAAE;AAAA,oBACVF,CAAG,UAAUD,CAAI;AAAA,cACvBA,CAAI;AAAA,aACLE,CAAW;AAAA,aACXH,CAAK;AAAA;AAAA,YAGb,EACA,KAAK,EAAE,CACZ,CCdA,MAAMK,EAAW,KAAK,MAAM,aAAa,QAAQC,EAAO,WAAW,CAAC,GAAK,GAEnEC,EAAY,CAChB,KAAM,SAAS,cAAc,UAAU,CACzC,EAEAA,EAAU,KAAK,mBAAmB,YAAaT,EAAaU,CAAW,CAAC,EACxED,EAAU,KAAK,iBAAiB,QAASE,CAAU,EAEnD,SAASA,EAAWC,EAAK,CACvB,GAAI,CAACA,EAAI,OAAO,UAAU,SAAS,QAAQ,EACzC,OAGF,MAAMC,EAAUD,EAAI,OAAO,QAAQ,aAAa,EAC1CE,EAAY,OAAOD,EAAQ,QAAQ,EAAE,EACrCE,EAAiBL,EAAY,KAAK,CAAC,CAAE,GAAAJ,KAASA,IAAOQ,CAAS,EAC9DE,EAAMT,EAAS,UAAU,CAAC,CAAE,GAAAD,KAASA,IAAOQ,CAAS,EAEvDE,IAAQ,GACVT,EAASS,CAAG,EAAE,KAAO,GAErBD,EAAe,IAAM,EACrBR,EAAS,KAAKQ,CAAc,GAG9B,aAAa,QAAQP,EAAO,YAAa,KAAK,UAAUD,CAAQ,CAAC,CACnE"}